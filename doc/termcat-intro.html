<!DOCTYPE html><html><head><meta charset='utf-8'><title>The Termcat Markup Language</title><link rel="stylesheet" href="termcat-intro.css"><script type='text/x-mathjax-config'>MathJax.Hub.Config({ MathML: { useMathMLspacing: true } });</script><script async src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML'></script></head><body><h1>The Termcat Markup Language</h1><a href='https://github.com/jdevuyst/termcat'>Termcat</a> is a markup language optimized for scientific and technical writing<span class='wide_punctuation_mark'>.</span> It compiles to HTML and MathML (using <a href='http://mathjax.com'>MathJax</a>)<span class='wide_punctuation_mark'>.</span> To generate PDFs, <a href='http://www.princexml.com'>Prince</a> can be used.<p>Termcat takes inspiration from LaTeX and Markdown<span class='wide_punctuation_mark'>.</span> From Markdown it copies the user-friendly syntax for titles, lists, links, emphasis, and so on<span class='wide_punctuation_mark'>.</span> Termcat aims to be more powerful, however<span class='wide_punctuation_mark'>.</span> Like LaTeX, Termcat is fully programmable and it also comes with special syntax for typographic features that are difficult to unlock using plain Markdown or HTML.<p>This document was compiled using Termcat<span class='wide_punctuation_mark'>.</span> You can find the source code <a href='https://github.com/jdevuyst/termcat/blob/master/doc/termcat-intro.tc'>here</a>.<p><strong>Contents</strong><p><ul><li><a href='#basics'>The Basics</a><li><a href='#html'>HTML</a><li><a href='#struct'>The Structure of a Termcat Document</a><li><a href='#math'>Math</a><li><a href='#prog'>Programming</a><li><a href='#usage'>Usage</a><li><a href='#status'>Status</a></ul><p><h2><a name="basics"></a>The Basics</h2><p>The syntax for titles is the same as in Markdown.<p><pre># This is a document title &#10;&#10;## This is a section title &#10;&#10;### This is a subsection title</pre><p>So are the syntax for <q><em>emphasis</em></q> (<code>*emphasis*</code>), <q><u>underline</u></q> (<code>_underline_</code>), and <q><a href='http://example.com'>links</a></q> (<code>[links](http://example.com)</code>)<span class='wide_punctuation_mark'>.</span> Caveat<span class='wide_punctuation_mark'>:</span> To emphasize or underline more than one word, it’s necessary to enclose the text fragment in a block<span class='wide_punctuation_mark'>.</span> Parentheses can be used for this purpose<span class='wide_punctuation_mark'>:</span> <code>**(This is strong text)**</code> renders as <q><strong>This is strong text</strong></q>.<p>Bullet lists can be created by starting a line with a hyphen followed by a space.<p>Consider the following code:<p><pre>
- Item 1
- Item 2
- Bullet items can consist of multiple paragraphs.

  Simply indent subsequent lines with two extra spaces.

  - Bullet lists can also be nested
    - Once more the trick is to indent the nested lists with two extra spaces.
</pre><p>This renders as follows:<p><blockquote><ul><li>Item 1<li>Item 2<li>Bullet items can consist of multiple paragraphs.<p>Simply indent subsequent lines with two extra spaces.<p><ul><li>Bullet lists can also be nested<ul><li>Once more the trick is to indent the nested lists with two extra spaces<span class='wide_punctuation_mark'>.</span></ul></ul></ul></blockquote><p>By default, blocks of text that are indented with two spaces are considered blockquotes.<p>The syntax <code>![alt text](filename.png)</code> includes an image in the document.<p><blockquote><img src='norbert.png' alt='One symbol of anarcho-syndicalism is a black cat, drawn by Ralph Chaplin. It was also the logo of my go-to Bagel place when I lived in Brooklyn.'></blockquote><p>Upright single quotes <code>&apos;</code> render as right quotes <q>’</q> (or apostrophes) and backticks <code>`</code> render as left quotes <q>‘</q>. Termcat automatically inserts extra horizontal whitespace after periods, question marks, exclamation marks, and colons, but o.c. not after acronyms<span class='wide_punctuation_mark'>.</span> Long dashes can be included using double (<code>--</code> → <q>–</q>) or triple (<q>—</q>) hyphens.<p>There’s special syntax for diactritics:<ul><li><code>r%^ole</code> → <q>rôle</q><li><code>n%&apos;ee</code> → <q>née</q><li><code>Gruy%`ere</code> → <q>Gruyère</q><li><code>co%&quot;option</code> → <q>coöption</q></ul><p>Users of pīnyīn can also use the notation <code>%1e</code>, <code>%2e</code>, <code>%3e</code>, <code>%4e</code> for <q>ē</q>, <q>é</q>, <q>ě</q>, and <q>è</q>.<p>It’s possible to change the space between characters<span class='wide_punctuation_mark'>:</span> <code>l%-2pt%ess is m%+0.4ex%ore</code> → <q>l<span style='margin-left: -2pt'></span>ess is m<span style='margin-left: 0.4ex'></span>ore</q>.<p>Similarly, spaces<q><span style='display: inline-block; width: 1em'> </span></q>of<q><span style='display: inline-block; width: 1em'> </span></q>variable<q><span style='display: inline-block; width: 1em'> </span></q>width can be created using the syntax <code>%_1em</code>. Like in LaTeX, tildes can be used for non-breaking spaces<span class='wide_punctuation_mark'>:</span> <code>100~kg</code> → <q>100&nbsp;kg</q>.<p>Two subsequent percent symbols <code>%%</code> indicate the start of a comment<span class='wide_punctuation_mark'>.</span> The comment continues until a newline character is encountered.<p>When <code>%</code> is used in other contexts then it inserts a zero-width space<span class='wide_punctuation_mark'>.</span> This space will not make it into the output HTML document<span class='wide_punctuation_mark'>.</span> This is useful when you want to trigger syntactic sugar that only works after or before whitespace<span class='wide_punctuation_mark'>.</span> For example, type <code>a%**b**%c</code> for <q>a<strong>b</strong>c</q>.<p>Put a backslash <code>\</code> in front of a symbol to indicate that the symbol is content, not syntax<span class='wide_punctuation_mark'>:</span> <code>\%</code> → <q>%</q>.<p><h2><a name="html"></a>HTML</h2><p>When HTML tags are encountered in Termcat documents, they ‘fall through’ to the HTML output<span class='wide_punctuation_mark'>.</span> Hence <code>&lt;b&gt;this&lt;/b&gt;</code> renders as <q><b>this</b></q>.<p>When a <code>&lt;head&gt;</code> block is encountered, the code within that block is moved to the head of the output HTML document<span class='wide_punctuation_mark'>.</span> This way the title of the document, stylesheets, and so on can be changed.<p><h2><a name="struct"></a>The Structure of a Termcat Document</h2><p>Termcat documents are trees<span class='wide_punctuation_mark'>.</span> The nodes of these trees—‘blocks’ in Termcat parlance—are delimited by parentheses <code>()</code>, brackets <code>[]</code>, braces <code>{}</code>, indentation, or bullet marks<span class='wide_punctuation_mark'>.</span> One important consequence of this is that parentheses, brackets, and braces must at all times be balanced (unless they’re escaped by backslashes).<p>For many purposes it doesn’t matter how a block is delimited<span class='wide_punctuation_mark'>.</span> For instance, a numbered list can be created using the notation<span class='wide_punctuation_mark'>:</span> <pre>:numbered-list<br>- item 1<br>- item 2</pre> or <pre>:numbered-list(item 1)[item 2]</pre> and it will render as<blockquote><ol><li>item 1<li>item 2</ol></blockquote><p><h2><a name="math"></a>Math</h2><p>Termcat has a novel syntax for mathematics<span class='wide_punctuation_mark'>.</span> Rather than having delimiters that indicate the start and end of a mathematical expression, Termcat expects to be told what (i) the identifiers, and what (ii) the operators, functions, and predicates are in an expression.<p>At least it expects to be told these things for <em>some</em> of the expressions that you type<span class='wide_punctuation_mark'>.</span> Termcat can be programmed to recognize common operators and identifiers, and it can also draw inferences.<p>To mark a character as a mathematical identifier, prefix it with an asterisk <code>*</code>: <code>*a</code> → <q><math><mi>a</mi></math></q>. Similarly, when Termcat encounters the expression <code>*abc</code> then it will infer that ‘b’ and ‘c’ are also identifiers<span class='wide_punctuation_mark'>.</span> The result is <q><math><mi>a</mi><mi>b</mi><mi>c</mi></math></q>. To turn a word into a single identifier, type <code>*(op)</code>. This renders as <q><math><mi>op</mi></math></q>—as in LaTeX, multi-character indentifiers are not italicized<span class='wide_punctuation_mark'>.</span> Mathematical identifiers can also be typeset in a caligraphic font by using <code>+</code> instead of <code>*</code>. Thus, <code>+M</code> becomes <q><math><mi mathvariant=script>M</mi></math></q>.<p>To use the binary minus operator, type <code>x ~-~ y</code>. This yields <q><math><mi>x</mi><mo form=infix>-</mo><mi>y</mi></math></q>.<p>Does typing <code>~-~</code> over and over again sound like a chore<span class='wide_punctuation_mark'>?</span> No problem<span class='wide_punctuation_mark'>.</span> Simply include the following code at the top of your document:<blockquote>!bind<br>- -<br>- ~-~</blockquote>From that point onwards, Termcat will interpret every minus sign surrounded by whitespace on both sides as a binary infix operator.<p>Predictably, for prefix operators you can type <code>sin~ x</code> or <code>x ~<span class='wide_punctuation_mark'>!</span></code>. This renders as <q><math><mo form=prefix lspace=0em>sin</mo><mi>x</mi></math></q> or <q><math><mi>x</mi><mo form=postfix rspace=0em>!</mo></math></q>.<p>When one tilde is used on either side of an operator, Termcat will use the default MathML spacing for that operator<span class='wide_punctuation_mark'>.</span> Use two tildes to insert a ‘thick math space’ and three tildes to use a ‘very very thick math space’.<p>It may sometimes be necessary to type <code>(~</code> and <code>~)</code> to indicate that parentheses (or brackets or braces) should be interpreted as mathematical ‘fences’: <code>(~ x ~,~ y ~]</code> → <q><math><mo form=prefix lspace=0em>(</mo><mi>x</mi><mo form=infix>,</mo><mi>y</mi><mo form=postfix rspace=0em>]</mo></math></q>.<p>Type <code>&lt;~</code> and <code>~&gt;</code> to insert chevrons.<p>Using some of the above knowledge we can use the following code <pre>!bind
- =
- ~=~
!bind
- ,
- ~,~
!bind
- SUBSETEQ
- ~⊆~
!bind
- +
- ~+~
!bind
- *
- ~×~
!bind
- |
- ~~|~~
!bind
- &lt;
- ~&lt;~

E = {&lt;~ a , n , n&apos; ~&gt; SUBSETEQ A * N * N | Pa and n &lt; n&apos;}</pre><p>to generate<blockquote><math><mi>E</mi><mo form=infix>=</mo><mo>{</mo><mo form=prefix lspace=0em>⟨</mo><mi>a</mi><mo form=infix>,</mo><mi>n</mi><mo form=infix>,</mo><msup><mrow><mi>n</mi></mrow><mrow><mo>′</mo></mrow></msup><mo form=postfix rspace=0em>⟩</mo><mo form=infix>⊆</mo><mi>A</mi><mo form=infix>×</mo><mi>N</mi><mo form=infix>×</mo><mi>N</mi><mo form=infix lspace=thickmathspace rspace=thickmathspace>|</mo><mi>P</mi><mi>a</mi></math> and <math><mi>n</mi><mo form=infix>&lt;</mo><msup><mrow><mi>n</mi></mrow><mrow><mo>′</mo></mrow></msup><mo>}</mo></math></blockquote><p>Notice that Termcat also correctly recognizes primes<span class='wide_punctuation_mark'>.</span> It’s also possible to use subscripts, superscripts, and fractions using syntax like this<span class='wide_punctuation_mark'>:</span> <code>(a^b_c)|d</code> → <q><math><mfrac><mrow><msubsup><mrow><mi>a</mi></mrow><mrow><mi>c</mi></mrow><mrow><mi>b</mi></mrow></msubsup></mrow><mrow><mi>d</mi></mrow></mfrac></math></q>.<p>To coerce something to be text, prefix it with a double upright quotes character <code>&quot;</code>.<p><h2><a name="prog"></a>Programming</h2><p>Functions are invoked using the syntax <code>function-name(arg 1)(arg 2)(arg 3)</code>. The arguments are blocks and can be delimited by parentheses, brackets, braces, indentation, or bullet list marks as usual<span class='wide_punctuation_mark'>.</span> The numbered list in the section <a href='#struct'>The Structure of a Termcat Document</a> is an example of a function call.<p>There’s also experimental support for user-defined functions<span class='wide_punctuation_mark'>.</span> The following Termcat code computes the fifth Fibonacci number:<p><pre>
!bind
- fib
- .fn
  - self n
  - .if
    - .eq(n)(0)
    - 1
    - .if
      - .eq(n)(1)
      - 1
      - .add
        - self(self#)(.add(n)(-2))
        - self(self#)(.add(n)(-1))
  #

fib(fib#)(5)</pre><p>It reduces to <q>8</q>.<p><h2><a name="usage"></a>Usage</h2><p>Termcat is a console app and is invoked as follows.<p><pre>Usage: java -jar termcat.jar [options] &lt;document[.tc]&gt;

The HTML output is stored in document.html.

  -b, --browse   Open HTML output in browser
  -w, --watch    Watch document for changes and recompile when changed
  -v, --verbose  Use verbose output
</pre><p>Combine the switches <code>-b</code> and <code>-w</code> for a live preview of your Termcat document<span class='wide_punctuation_mark'>:</span> Any change you make in the source document will be automatically reflected in your browser.<p><h2><a name="status"></a>Status</h2><p>Termcat is written in Clojure and is an open source project<span class='wide_punctuation_mark'>.</span> You can find the Github project <a href='https://github.com/jdevuyst/termcat'>here</a>. Emails, bug reports, and pull requests are welcome!<p>The current version of Termcat should be considered an ‘advanced prototype’. I find it quite usable as-is, but nothing is set in stone and a lot of features are still missing.</body></html>